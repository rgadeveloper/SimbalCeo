<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <p:panelGrid columns="2" id ="gridMunicipio" rendered="true"  style="margin-top:20px; font-size: 12px ">
        <f:facet name="header">
            <p:row>
                <p:column colspan="8">Información del suministro</p:column>
            </p:row>
        </f:facet>

        <h:outputText style="font-weight: bold;" value="Nombre" />
        <h:outputText value="#{electricaView.componente.nombre}" />

        <h:outputText style="font-weight: bold;" value="Dirección" />
        <h:outputText value="#{electricaView.componente.direccion}" />

        <h:outputText style="font-weight: bold;" value="Código cliente" />
        <h:outputText value="#{electricaView.componente.idCliente}" />

        <h:outputText style="font-weight: bold;" value="Apoyo" />
        <h:outputText value="#{electricaView.atrComponente.apoyo}" />

        <h:outputText style="font-weight: bold;" value="Estado del servicio" />
        <h:outputText value="#{electricaView.componente.estado1.descripcion}" />
        
        <h:outputText style="font-weight: bold;" value="Tarifa" />
        <h:outputText value="#{electricaView.atrComponente.tbltipo4.nombre}" />
        
        <h:outputText style="font-weight: bold;" value="Número de medidor" />
        <h:outputText value="#{electricaView.atrComponente.medidor}" />

        <h:outputText style="font-weight: bold;" value="Localización" />
        <h:outputText value="#{electricaView.componente.tbltipo.nombre}" />

        <h:outputText style="font-weight: bold;" value="Estrato" />
        <h:outputText value="#{electricaView.atrComponente.estrato}" />
        
        <h:outputText style="font-weight: bold;" value="Consumo Promedio (Kwh)" />
        <h:outputText value="#{electricaView.atrComponente.consumoPromedio}" >
            <f:convertNumber integerOnly="true" pattern="#,###"/>
        </h:outputText>     

        <h:outputText style="font-weight: bold;" value="Intervencion" />
        <h:outputText value="#{electricaView.componente.estado.descripcion}" /> 



    </p:panelGrid>

    <br></br>

    <p:dataTable style="width: 800px;" var="med" value="#{electricaView.listMedida}">
        <f:facet name="header">
            Lecturas del suministro
        </f:facet>
        <p:column headerText="Periodo">
            <h:outputText value="#{med.medidaPK.periodo}" />
        </p:column>

        <p:column headerText="Lectura Actual">
            <h:outputText value="#{med.lecturaActual}" />
        </p:column>

        <p:column headerText="Consumo">
            <h:outputText value="#{med.consumoFacturado}" />
        </p:column>

        <p:column headerText="Dias Facturados">
            <h:outputText value="#{med.diasFacturados}" />
        </p:column>
        <p:column headerText="Fecha Lectura actual">
            <h:outputText value="#{med.fechaLecturaActual}" />
        </p:column>
        <p:column headerText="Tipo Lectura actual">
            <h:outputText value="#{med.tbltipo1.nombre}" />
        </p:column>
        <p:column headerText="Observación">
            <h:outputText value="#{med.observacion}" />
        </p:column>
        <p:column headerText="Anomalia Lectura">
            <h:outputText value="#{med.tbltipo.nombre }" />
        </p:column>
    </p:dataTable>
    <h:panelGrid columns="2">
        <h:commandButton image="../resources/images/pdf.png" actionListener="#{electricaView.exportar('Suministro','pdf')}" />
        <h:commandButton image="../resources/images/excel.png" actionListener="#{electricaView.exportar('Suministro','xls')}" />
    </h:panelGrid>   

</html>